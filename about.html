<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Us - NaTeSA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .hero-gradient { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .achievement-counter { animation: countUp 2s ease-out; }
        @keyframes countUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .gallery-item { transition: transform 0.3s ease; }
        .gallery-item:hover { transform: scale(1.05); }
        .loading { opacity: 0.7; pointer-events: none; }
        .skeleton { background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size: 200% 100%; animation: loading 1.5s infinite; }
        @keyframes loading { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="text-2xl font-bold text-indigo-600">NaTeSA</div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="index.html" class="text-gray-700 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Home</a>
                        <a href="#" class="bg-indigo-600 text-white px-3 py-2 rounded-md text-sm font-medium">About</a>
                        <a href="#" class="text-gray-700 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Services</a>
                        <a href="#" class="text-gray-700 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Contact</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-gradient text-white py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-5xl font-bold mb-6">About NaTeSA</h1>
            <p class="text-xl max-w-3xl mx-auto leading-relaxed">
                The Nazareth Tertiary Students Association - Empowering NBCE students through education, leadership, and community development since 2000.
            </p>
        </div>
    </section>

    <!-- History and Mission Section -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div>
                    <h2 class="text-4xl font-bold text-gray-900 mb-6">Our Story</h2>
                    <p class="text-gray-600 mb-6 leading-relaxed">
                        The Nazareth Tertiary Students Association (NaTeSA) is a non-profit organization for tertiary students who are members of the Nazareth Baptist Church EBuhleni. We were formed in 2000 after merging different student societies from various universities.
                    </p>
                    <div class="bg-gray-50 p-6 rounded-lg mb-6">
                        <h4 class="font-semibold text-gray-900 mb-3">Founding Organizations:</h4>
                        <ul class="space-y-2 text-gray-600">
                            <li><strong>MaNaSO</strong> - Mangosuthu University of Technology</li>
                            <li><strong>NBCSS</strong> - University of Zululand</li>
                            <li><strong>MSNSS</strong> - Durban University of Technology</li>
                        </ul>
                    </div>
                    <p class="text-gray-600 leading-relaxed">
                        Over the years, we've grown to serve students across all South African universities, maintaining our commitment to academic excellence and community development.
                    </p>
                </div>
                <div class="bg-indigo-50 p-8 rounded-2xl">
                    <h3 class="text-2xl font-bold text-indigo-900 mb-4">Our Mission</h3>
                    <p class="text-indigo-700 leading-relaxed mb-6">
                        We believe in education as a powerful weapon against poverty, following the teachings of Prophet Isaiah Shembe. Our mission is to be the leading academic association in Southern Africa.
                    </p>
                    <div class="space-y-3">
                        <div class="flex items-center">
                            <div class="w-2 h-2 bg-indigo-600 rounded-full mr-3"></div>
                            <span class="text-indigo-800">Promoting academic excellence and leadership</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-2 h-2 bg-indigo-600 rounded-full mr-3"></div>
                            <span class="text-indigo-800">Providing career guidance and development</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-2 h-2 bg-indigo-600 rounded-full mr-3"></div>
                            <span class="text-indigo-800">Conducting workshops for community development</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Organizational Structure Section -->
    <section class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Our Organizational Structure</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">
                    Understanding our leadership hierarchy and how we organize to serve students across South Africa.
                </p>
            </div>
            
            <div class="grid lg:grid-cols-3 gap-8 mb-12">
                <div class="bg-gradient-to-br from-purple-50 to-indigo-100 p-8 rounded-xl card-hover">
                    <div class="bg-purple-600 text-white w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold mb-6 mx-auto">NEC</div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-4 text-center">National Executive Committee</h3>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-purple-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span>Overall leadership for ALL NaTeSA branches</span>
                        </li>
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-purple-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span>Manages national policies and decisions</span>
                        </li>
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-purple-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span>Oversees all South African universities</span>
                        </li>
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-purple-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span>Highest access level in system</span>
                        </li>
                    </ul>
                </div>
                
                <div class="bg-gradient-to-br from-blue-50 to-cyan-100 p-8 rounded-xl card-hover">
                    <div class="bg-blue-600 text-white w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold mb-6 mx-auto">BEC</div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-4 text-center">Branch Executive Committee</h3>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span>Leadership for individual university branches</span>
                        </li>
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span>Manages specific campus activities</span>
                        </li>
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span>Reports to NEC</span>
                        </li>
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span>Branch-level admin access</span>
                        </li>
                    </ul>
                </div>
                
                <div class="bg-gradient-to-br from-green-50 to-emerald-100 p-8 rounded-xl card-hover">
                    <div class="bg-green-600 text-white w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold mb-6 mx-auto">GM</div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-4 text-center">General Members</h3>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-green-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span>NBCE students registered at universities</span>
                        </li>
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-green-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span>Join their specific campus branch</span>
                        </li>
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-green-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span>Participate in branch activities</span>
                        </li>
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-green-600 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span>Basic user access level</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="bg-white p-8 rounded-xl shadow-lg">
                <h3 class="text-xl font-bold text-gray-900 mb-4">How It Works - Example</h3>
                <p class="text-gray-600 leading-relaxed">
                    A student finishes matric, gets accepted at UCT, and registers under the UCT NaTeSA branch as a General Member. 
                    The UCT BEC manages that branch, while the NEC oversees all branches nationwide.
                </p>
            </div>
        </div>
    </section>

    <!-- Leadership Team Section -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Leadership Team</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">
                    Meet the dedicated leaders who guide NaTeSA's mission and drive our impact across university campuses.
                </p>
            </div>
            
            <div id="leadership-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Loading skeleton for leadership team -->
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="text-center">
                        <div class="skeleton w-16 h-16 rounded-full mb-4 mx-auto"></div>
                        <div class="skeleton h-6 w-3/4 mb-2 mx-auto"></div>
                        <div class="skeleton h-4 w-1/2 mb-4 mx-auto"></div>
                        <div class="skeleton h-4 w-full mb-1"></div>
                        <div class="skeleton h-4 w-5/6"></div>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="text-center">
                        <div class="skeleton w-16 h-16 rounded-full mb-4 mx-auto"></div>
                        <div class="skeleton h-6 w-3/4 mb-2 mx-auto"></div>
                        <div class="skeleton h-4 w-1/2 mb-4 mx-auto"></div>
                        <div class="skeleton h-4 w-full mb-1"></div>
                        <div class="skeleton h-4 w-5/6"></div>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="text-center">
                        <div class="skeleton w-16 h-16 rounded-full mb-4 mx-auto"></div>
                        <div class="skeleton h-6 w-3/4 mb-2 mx-auto"></div>
                        <div class="skeleton h-4 w-1/2 mb-4 mx-auto"></div>
                        <div class="skeleton h-4 w-full mb-1"></div>
                        <div class="skeleton h-4 w-5/6"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Achievements Section -->
    <section class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Our Impact & Achievements</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">
                    Over the years, we've helped students across South Africa achieve their academic and career goals.
                </p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
                <div class="text-center achievement-counter">
                    <div id="years-service" class="text-4xl font-bold text-indigo-600 mb-2 skeleton h-10 w-20 mx-auto">24+</div>
                    <div class="text-gray-600">Years of Service</div>
                </div>
                <div class="text-center achievement-counter">
                    <div id="students-helped" class="text-4xl font-bold text-green-600 mb-2 skeleton h-10 w-24 mx-auto">1000+</div>
                    <div class="text-gray-600">Students Helped</div>
                </div>
                <div class="text-center achievement-counter">
                    <div id="branches-count" class="text-4xl font-bold text-purple-600 mb-2 skeleton h-10 w-12 mx-auto">26</div>
                    <div class="text-gray-600">University Branches</div>
                </div>
                <div class="text-center achievement-counter">
                    <div id="workshops-count" class="text-4xl font-bold text-orange-600 mb-2 skeleton h-10 w-16 mx-auto">100+</div>
                    <div class="text-gray-600">Workshops Conducted</div>
                </div>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="bg-gradient-to-br from-blue-50 to-indigo-100 p-6 rounded-xl card-hover">
                    <div class="bg-blue-600 text-white w-12 h-12 rounded-full flex items-center justify-center text-xl font-bold mb-4 mx-auto">CG</div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-2 text-center">Career Guidance</h3>
                    <p class="text-gray-600 text-sm text-center">Providing comprehensive career guidance and talent development programs for students.</p>
                </div>
                <div class="bg-gradient-to-br from-green-50 to-emerald-100 p-6 rounded-xl card-hover">
                    <div class="bg-green-600 text-white w-12 h-12 rounded-full flex items-center justify-center text-xl font-bold mb-4 mx-auto">UA</div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-2 text-center">University Applications</h3>
                    <p class="text-gray-600 text-sm text-center">Assisting students with university applications and registration processes.</p>
                </div>
                <div class="bg-gradient-to-br from-purple-50 to-violet-100 p-6 rounded-xl card-hover">
                    <div class="bg-purple-600 text-white w-12 h-12 rounded-full flex items-center justify-center text-xl font-bold mb-4 mx-auto">LD</div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-2 text-center">Leadership Development</h3>
                    <p class="text-gray-600 text-sm text-center">Building future leaders through comprehensive leadership development programs.</p>
                </div>
                <div class="bg-gradient-to-br from-orange-50 to-red-100 p-6 rounded-xl card-hover">
                    <div class="bg-orange-600 text-white w-12 h-12 rounded-full flex items-center justify-center text-xl font-bold mb-4 mx-auto">CS</div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-2 text-center">Community Service</h3>
                    <p class="text-gray-600 text-sm text-center">Organizing community service initiatives that make a positive impact.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Photo Gallery Section -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Photo Gallery</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">
                    Capturing moments from our events, workshops, and community activities across university campuses.
                </p>
            </div>
            
            <div id="gallery-container" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                <!-- Gallery items will be populated dynamically -->
                <div class="skeleton aspect-square rounded-lg"></div>
                <div class="skeleton aspect-square rounded-lg"></div>
                <div class="skeleton aspect-square rounded-lg"></div>
                <div class="skeleton aspect-square rounded-lg"></div>
                <div class="skeleton aspect-square rounded-lg"></div>
                <div class="skeleton aspect-square rounded-lg"></div>
                <div class="skeleton aspect-square rounded-lg"></div>
                <div class="skeleton aspect-square rounded-lg"></div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <div class="col-span-2">
                    <div class="text-2xl font-bold mb-4">NaTeSA</div>
                    <p class="text-gray-400 mb-4">
                        The Nazareth Tertiary Students Association - Empowering NBCE students through education, leadership, and community development.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="bg-gray-800 hover:bg-gray-700 p-2 rounded transition-colors">Email</a>
                        <a href="#" class="bg-gray-800 hover:bg-gray-700 p-2 rounded transition-colors">Phone</a>
                        <a href="#" class="bg-gray-800 hover:bg-gray-700 p-2 rounded transition-colors">Website</a>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Home</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">About</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Branches</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Events</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Contact Info</h3>
                    <div class="space-y-2 text-gray-400">
                        <div>Location: EBuhleni, KwaZulu-Natal</div>
                        <div>Phone: +27 (0) 123 456 789</div>
                        <div>Email: info@natesa.org.za</div>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2024 Nazareth Tertiary Students Association (NaTeSA). All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // API Base URL - Update this to match your server URL
        const API_BASE_URL = window.location.origin + '/api';

        // Fetch data from API
        async function fetchData(endpoint) {
            try {
                const response = await fetch(`${API_BASE_URL}${endpoint}`);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return await response.json();
            } catch (error) {
                console.error('Error fetching data:', error);
                return null;
            }
        }

        // Get initials from name
        function getInitials(name) {
            return name.split(' ').map(word => word[0]).join('').toUpperCase();
        }

        // Populate leadership team from database
        async function displayLeadershipTeam() {
            const grid = document.getElementById('leadership-grid');
            
            // Show loading state
            grid.innerHTML = `
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="text-center">
                        <div class="skeleton w-16 h-16 rounded-full mb-4 mx-auto"></div>
                        <div class="skeleton h-6 w-3/4 mb-2 mx-auto"></div>
                        <div class="skeleton h-4 w-1/2 mb-4 mx-auto"></div>
                        <div class="skeleton h-4 w-full mb-1"></div>
                        <div class="skeleton h-4 w-5/6"></div>
                    </div>
                </div>
            `.repeat(3);

            const users = await fetchData('/users');
            
            if (!users) {
                grid.innerHTML = '<div class="col-span-3 text-center text-gray-500">Failed to load leadership team</div>';
                return;
            }

            // Filter NEC members (leadership team)
            const necMembers = users.filter(user => 
                user.role === 'nec' && user.status === 'active'
            );

            grid.innerHTML = '';

            if (necMembers.length === 0) {
                grid.innerHTML = '<div class="col-span-3 text-center text-gray-500">No leadership team members found</div>';
                return;
            }

            necMembers.forEach(leader => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-lg p-6 card-hover';
                card.innerHTML = `
                    <div class="text-center">
                        <div class="bg-indigo-600 text-white w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold mb-4 mx-auto">
                            ${getInitials(leader.name)}
                        </div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">${leader.name}</h3>
                        <p class="text-indigo-600 font-medium mb-4">${leader.nec_position || 'NEC Member'}</p>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            ${leader.bio || `Active ${leader.nec_position || 'NEC member'} contributing to NaTeSA's mission.`}
                        </p>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // Update achievement counters with real data
        async function updateAchievementCounters() {
            const stats = await fetchData('/dashboard/stats');
            
            if (stats) {
                document.getElementById('years-service').textContent = '24+';
                document.getElementById('years-service').classList.remove('skeleton');
                
                document.getElementById('students-helped').textContent = stats.totalUsers.toLocaleString();
                document.getElementById('students-helped').classList.remove('skeleton');
                
                document.getElementById('branches-count').textContent = stats.totalBranches;
                document.getElementById('branches-count').classList.remove('skeleton');
                
                document.getElementById('workshops-count').textContent = stats.totalEvents.toLocaleString();
                document.getElementById('workshops-count').classList.remove('skeleton');
            }
        }

        // Populate gallery with events from database
        async function populateGallery() {
            const gallery = document.getElementById('gallery-container');
            const events = await fetchData('/events');
            const branches = await fetchData('/branches');

            if (!events || !branches) {
                gallery.innerHTML = '<div class="col-span-4 text-center text-gray-500">Failed to load gallery</div>';
                return;
            }

            // Get recent events (last 8)
            const recentEvents = events.slice(-8);
            const colors = [
                'from-blue-400 to-blue-600',
                'from-green-400 to-green-600',
                'from-purple-400 to-purple-600',
                'from-orange-400 to-orange-600',
                'from-teal-400 to-teal-600',
                'from-pink-400 to-pink-600',
                'from-indigo-400 to-indigo-600',
                'from-red-400 to-red-600'
            ];

            gallery.innerHTML = '';

            recentEvents.forEach((event, index) => {
                const branch = branches.find(b => b.id === event.branch_id);
                const colorClass = colors[index % colors.length];
                
                const galleryItem = document.createElement('div');
                galleryItem.className = `gallery-item bg-gradient-to-br ${colorClass} aspect-square rounded-lg flex flex-col items-center justify-center text-white cursor-pointer p-4`;
                galleryItem.innerHTML = `
                    <div class="text-2xl font-bold mb-2">${branch ? branch.name.substring(0, 4).toUpperCase() : 'EVNT'}</div>
                    <div class="text-sm text-center">${event.title}</div>
                    <div class="text-xs mt-2 opacity-80">${new Date(event.date).toLocaleDateString()}</div>
                `;
                
                galleryItem.addEventListener('click', function() {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1.05)';
                    }, 150);
                });
                
                gallery.appendChild(galleryItem);
            });
        }

        // Initialize page with real data
        document.addEventListener('DOMContentLoaded', function() {
            displayLeadershipTeam();
            updateAchievementCounters();
            populateGallery();
            
            // Refresh data every 5 minutes
            setInterval(() => {
                displayLeadershipTeam();
                updateAchievementCounters();
                populateGallery();
            }, 300000);
        });
    </script>
</body>
</html>